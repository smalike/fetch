/*! fetch-Module - v0.1.0 - 2015-04-23 16:39:26 */
var fetch,define;!function(){function a(a){return"[object Array]"===Object.prototype.toString.call(a)}function b(a){return"[object Function]"===Object.prototype.toString.call(a)}function c(){var a=this;a.status="PENDING",a.doResolves=[],a.doRejecteds=[]}function d(a,b){var d,f,g,h=document.createElement("script"),i=r&&r.getElementsByTagName("base")[0]||r.firstChild;return f=new c,d=setTimeout(function(){e(f,"timeout")},fetch.timeout),h.onerror=function(a){clearTimeout(d),e(f,a)},h.onload=h.onreadystatechange=function(b){b=b||window.event,("load"==b.type||{loaded:1,complete:1}[this.readyState])&&(clearTimeout(d),f.resolve(a)),h.onload=h.onreadystatechange=h.onerror=null},fetch.config.paths&&(g=fetch.config.paths[a])&&(a=g),/^(http(s)?:)?\/\//i.test(a)||(fetch.config.debug&&(a="src/"+a),a=(fetch.config.baseURL||"")+a),h.charset="utf-8",h.async=!0,h.src=a+".js?"+fetch.config.version,r.insertBefore(h,i),f}function e(a,b){a.reject(b)}function f(b,c,d){var e,f,g;for(g=a(b)?b:[b],f=g.length,e=0;f>e;e++)n[g[e]]||(n[g[e]]={dependency:c,callback:d})}function g(a,c){var d,e;for(d in o[a])if(!d.hasOwnProperty(o[a])&&(e=o[a][d],!e))break;e&&(b(c)&&f(a,o[a],c),q.dispatch(a,a))}function h(a,b,c){var e,f,h,i;for(f=b.length,e=0;f>e;e++)h=b[e],o[a]=o[a]||{},o[a][h]=!!n[h],o[a][h]||(i=!0,q.addEventListener(h,function(a,b,c){o[b][a]=!0,g(b,c),q.removeEventListener(a)},null,[a,c]),l[h]||(l[h]={deps:[]},d(h).done(function(a){})));return i}function i(b,c,e){a(c)&&j(b,c),q.addEventListener(b,function(b,c,d){var e,f,g,h=[];if(q.removeEventListener(b),a(p[c])){for(h.push(k(c)),f=p[c].length,e=0;f>e;e++){if(g=k(p[c][e]),!g)return!1;h.push(g)}return d.apply(fetch,h),!1}k(c,d)},null,[b,e]),l[b]?p[b]&&(l[b].deps=l[b].deps.concat(p[b]),h(b,p[b],e)||q.dispatch(b,b)):(l[b]={},d(b).done(function(a){}))}function j(a,b){var c,d,e;for(d=b.length,p[a]=p[a]||[],c=0;d>c;c++)e=b[c],p[a].push(e)}function k(a,c){var d,e,f=n[a];return f?(e=l[a],e.exports?b(c)?c(e.exports):e.exports:(d=e.callback(fetch,m,e),d?e.exports=d:e.exports||(e.exports=m),b(c)?void c(e.exports):e.exports)):!1}c.prototype.resolve=function(a){var b=this,c=0,d=b.doResolves.length;for(b.status="FULFILLED",c=0;d>c;c++)b.doResolves[c].call(b,a)},c.prototype.reject=function(a){var b,c=this,d=c.doRejecteds.length;for(c.status="REJECTED",b=0;d>b;b++)c.doResolves[b].call(c,a)},c.prototype.done=function(a){var c=this;return b(a)&&c.doResolves.push(a),c},c.prototype.fail=function(a){var c=this;return b(a)&&c.doRejecteds.push(a),c},c.prototype.then=function(a,b){},c.prototype.always=function(a){var b=this;return b.done(a).fail(a),b},c.when=function(a){var b,d,e=new c,f=a.length,g=[];for(b=0;f>b;b++){if(d=a[b],!(d instanceof c))return!1;d.always(function(a){"REJECTED"===this.status&&e.reject(),f--,g.push(a),f||e.resolve(g)})}return e};var l={load:function(){}},m={},n={},o={},p={},q={eventMap:{},addEventListener:function(a,b,c,d){var e=this;return e.eventMap[a]||(e.eventMap[a]=[]),c=c||e,d=d||[],e.eventMap[a].push({handler:b,target:c,args:d}),e},removeEventListener:function(a,b){var c,d,e,f=this;if(b)for(c=0;d>c;c++)e=f.eventMap[a][c],e.handler===b&&(e=null);else f.eventMap[a]=[];return f},dispatch:function(a,b){var c,d,e,f=this,g=f.eventMap[a];for(g&&(d=g.length),b=b||{},c=0;d>c;c++)e=g[c],e&&(e.args.unshift(b),e.handler.apply(e.target,e.args))}},r=document&&(document.head||document.getElementsByTagName("head")[0]);define=function(c,d,e){var g={};return n[c]?!1:(l[c]=l[c]||{deps:[]},b(d)&&(e=d),p[c]&&(a(d)||(d=[]),d=d.concat(p[c])),l[c].callback=e,void(a(d)&&d.length?(l[c].deps=d,h(c,d,e)||(f(c,g,e),q.dispatch(c,c))):(f(c,g,e),q.dispatch(c,c))))},fetch=function(c,d,e){var f=n[c];if(b(d)&&(e=d),f){if(!a(d)||!d.length)return k(c,e);i(c,d,e)}else i(c,d,e)},fetch.timeout=5e3,fetch.config={debug:!0,paths:{},version:"1"},define.amd={version:"0.1.0",jQuery:!0}}(this);