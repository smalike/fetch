/*! fetch-Module - v0.1.0 - 2015-04-23 12:23:41 */
define("common:chinaso/page/controller/soRest-tab",function(a,b,c){function d(a){this.defaults={leftEle:".arr-left",rightEle:".arr-right",converCls:"again",dot:".trigger-dot a",auto:!1,isLoop:!0},"string"==typeof a?this.defaults.container=a:this.defaults=jQuery.extend(this.defaults,a),this.defaults.$container=jQuery(this.defaults.container),this.$content=this.defaults.$container.find("ul"),this.initialize(),this.initDot(),this.eventHandler(),this.isAutoPlay(),!this.defaults.isLoop&&this.setDiseble()}jQuery.extend(d.prototype,{eventHandler:function(){var a=this;this.defaults.$container.on({mouseover:function(){clearTimeout(a.autoClearTimeId)},mouseout:function(){a.isAutoPlay()}}),this.defaults.$container.find(this.defaults.rightEle).on({click:function(){return!a.$content.is(":animated")&&a.carouselExc(-1),!1},mouseover:function(){$(this).addClass(a.defaults.converCls)},mouseout:function(){$(this).removeClass(a.defaults.converCls)}}),this.defaults.$container.find(this.defaults.leftEle).on({click:function(){return!a.$content.is(":animated")&&a.carouselExc(1),!1},mouseover:function(){$(this).addClass(a.defaults.converCls)},mouseout:function(){$(this).removeClass(a.defaults.converCls)}}),$(window).on("resize",function(){clearTimeout(a.resizeTimeId),a.resizeTimeId=setTimeout(function(){a.initialize()},200)})},isAutoPlay:function(){this.defaults.auto&&this.autoPlay()},autoPlay:function(){var a=this;clearTimeout(this.autoClearTimeId),this.autoClearTimeId=setInterval(function(){!a.$content.is(":animated")&&a.carouselExc(-1)},5e3)},carouselExc:function(a){var b=this,c=this.defaults.content?this.defaults.$container.find(this.defaults.content).width()+this.marLimitWi:this.defaults.$container.width()+this.marLimitWi,d=this.$content.position().left,e=d+a*Math.floor(c/this.itemWidth)*this.itemWidth,f=this.$content.width(),g=Math.abs(e),h=c%this.itemWidth;if(~a)if(d>=0){if(!this.defaults.isLoop)return!1;e=-(f-c)}else e>0&&(e=0);else if(g+h>=f){if(!this.defaults.isLoop)return!1;e=0}else g+c>f&&(e=-(f-c));b.updateDotPosition(a),this.$content.animate({left:e},500,function(){b.defaults.isLoop||b.setDiseble()})},setDiseble:function(){var a=this.defaults.content?this.defaults.$container.find(this.defaults.content).width()+this.marLimitWi:this.defaults.$container.width()+this.marLimitWi,b=this.$content.width(),c=this.defaults.$container.find(this.defaults.rightEle),d=this.defaults.$container.find(this.defaults.leftEle),e=Math.abs(this.$content.position().left);b-a===e?c.addClass("diseble"):c.removeClass("diseble"),0>=e?d.addClass("diseble"):d.removeClass("diseble")},initDot:function(){var a=this;this.dotIndex=0,this.$dot=this.defaults.$container.find(this.defaults.dot),this.$dot.on("click",function(){var b=$(this).index(this.selector);!a.$content.is(":animated")&&a.dotIndex-b!==0&&a.carouselExc(a.dotIndex-b)})},updateDotPosition:function(a){var b=this.$content.find("li").length;this.dotIndex+=-a,this.dotIndex>=b?this.dotIndex=0:this.dotIndex<0&&(this.dotIndex=b-1),this.$dot.removeClass("cur").eq(this.dotIndex).addClass("cur")},initialize:function(){this.getContentWidth(),this.$content.width()<=this.defaults.$container.width()&&this.defaults.$container.find(".opTabsRight").addClass("hide")},getContentWidth:function(){var a=this.$content.find("li"),b=a.length,c=a.eq(0),d=c.outerWidth(!0),e=c.outerWidth();this.marLimitWi=d-e,this.itemWidth=c.outerWidth(!0),this.$content.width(this.itemWidth*b)}}),c.exports={build:function(a){var b;return b=new d(a)}}});