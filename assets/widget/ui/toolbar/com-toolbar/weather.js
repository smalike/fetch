/*! fetch-Module - v0.1.0 - 2015-04-23 12:23:41 */
define("assets/widget/ui/toolbar/com-toolbar/weather",["assets/utils/util","assets/utils/storage"],function(a,b,c){"use strict";function d(a){var b=this;b.defaults={weatherStorageKey:"chinasoWeather",timestampDay:.166},e.extend(b.defaults,a),b.storageObj=new f(b.defaults.weatherStorageKey,b.defaults.timestampDay)}var e=a("assets/utils/util"),f=a("assets/utils/storage");e.extend(d.prototype,{isExists:function(a,b){var c=a.indexOf(b);return{index:c,isTrue:-1!==c?1:0}},weatherCut:function(a){var b=this,c=b.isExists(a,"è½¬");return c.isTrue?a.substring(0,c.index):a},getWeatherData:function(){var a=this;return a.storageObj.get(a.defaults.weatherStorageKey)||null},fillStorageWeatherData:function(a){var b=this,c=(new Date).getTime()+864e5*b.defaults.timestampDay;a.expires=+c,b.storageObj.set(b.defaults.weatherStorageKey,a)}}),c.exports=function(a){return new d(a)}});