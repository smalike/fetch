/*!
 * Masonry PACKAGED v3.1.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
/*!
 * getStyleProperty by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */
(function(c){var d="Webkit Moz ms Ms O".split(" ");var b=document.documentElement.style;function a(h){if(!h){return}if(typeof b[h]==="string"){return h}h=h.charAt(0).toUpperCase()+h.slice(1);var f;for(var g=0,e=d.length;g<e;g++){f=d[g]+h;if(typeof b[f]==="string"){return f}}}if(typeof define==="function"&&define.amd){define(function(){return a})}else{c.getStyleProperty=a}})(window);(function(f,c){var e=document.defaultView;var i=e&&e.getComputedStyle;var g=i?function(j){return e.getComputedStyle(j,null)}:function(j){return j.currentStyle};function h(k){var j=parseFloat(k);var l=k.indexOf("%")===-1&&!isNaN(j);return l&&j}var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function a(){var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var k=0,j=b.length;k<j;k++){var m=b[k];l[m]=0}return l}function d(m){var k=m("boxSizing");var l;(function(){if(!k){return}var q=document.createElement("div");q.style.width="200px";q.style.padding="1px 2px 3px 4px";q.style.borderStyle="solid";q.style.borderWidth="1px 2px 3px 4px";q.style[k]="border-box";var o=document.body||document.documentElement;o.appendChild(q);var p=g(q);l=h(p.width)===200;o.removeChild(q)})();function n(D){if(typeof D==="string"){D=document.querySelector(D)}if(!D||typeof D!=="object"||!D.nodeType){return}var B=g(D);if(!B||B.display==="none"){return a()}var u={};u.width=D.offsetWidth;u.height=D.offsetHeight;var C=u.isBorderBox=!!(k&&B[k]&&B[k]==="border-box");for(var y=0,z=b.length;y<z;y++){var w=b[y];var x=B[w];x=j(D,x);var o=parseFloat(x);u[w]=!isNaN(o)?o:0}var A=u.paddingLeft+u.paddingRight;var t=u.paddingTop+u.paddingBottom;var F=u.marginLeft+u.marginRight;var r=u.marginTop+u.marginBottom;var E=u.borderLeftWidth+u.borderRightWidth;var q=u.borderTopWidth+u.borderBottomWidth;var p=C&&l;var s=h(B.width);if(s!==false){u.width=s+(p?0:A+E)}var v=h(B.height);if(v!==false){u.height=v+(p?0:t+q)}u.innerWidth=u.width-(A+E);u.innerHeight=u.height-(t+q);u.outerWidth=u.width+F;u.outerHeight=u.height+r;return u}function j(r,s){if(i||s.indexOf("%")===-1){return s}var q=r.style;var t=q.left;var p=r.runtimeStyle;var o=p&&p.left;if(o){p.left=r.currentStyle.left}q.left=s;s=q.pixelLeft;q.left=t;if(o){p.left=o}return s}return n}if(typeof define==="function"&&define.amd){define(["get-style-property/get-style-property"],d)}else{f.getSize=d(f.getStyleProperty)}})(window);
/*!
 * eventie v1.0.3
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(d){var a=document.documentElement;var e=function(){};if(a.addEventListener){e=function(h,g,f){h.addEventListener(g,f,false)}}else{if(a.attachEvent){e=function(h,g,f){h[g+f]=f.handleEvent?function(){var i=d.event;i.target=i.target||i.srcElement;f.handleEvent.call(f,i)}:function(){var i=d.event;i.target=i.target||i.srcElement;f.call(h,i)};h.attachEvent("on"+g,h[g+f])}}}var c=function(){};if(a.removeEventListener){c=function(h,g,f){h.removeEventListener(g,f,false)}}else{if(a.detachEvent){c=function(i,g,f){i.detachEvent("on"+g,i[g+f]);try{delete i[g+f]}catch(h){i[g+f]=undefined}}}}var b={bind:e,unbind:c};if(typeof define==="function"&&define.amd){define(b)}else{d.eventie=b}})(this);
/*!
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */
(function(d){var b=d.document;var a=[];function c(g){if(typeof g!=="function"){return}if(c.isReady){g()}else{a.push(g)}}c.isReady=false;function f(l){var k=l.type==="readystatechange"&&b.readyState!=="complete";if(c.isReady||k){return}c.isReady=true;for(var h=0,g=a.length;h<g;h++){var j=a[h];j()}}function e(g){g.bind(b,"DOMContentLoaded",f);g.bind(b,"readystatechange",f);g.bind(d,"load",f);return c}if(typeof define==="function"&&define.amd){c.isReady=typeof requirejs==="function";define(["eventie/eventie"],e)}else{d.docReady=e(d.eventie)}})(this);
/*!
 * EventEmitter v4.2.4 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var l=c.prototype;function h(w,x){var v=w.length;while(v--){if(w[v].listener===x){return v}}return -1}function j(v){return function w(){return this[v].apply(this,arguments)}}l.getListeners=function t(v){var y=this._getEvents();var w;var x;if(typeof v==="object"){w={};for(x in y){if(y.hasOwnProperty(x)&&v.test(x)){w[x]=y[x]}}}else{w=y[v]||(y[v]=[])}return w};l.flattenListeners=function r(x){var v=[];var w;for(w=0;w<x.length;w+=1){v.push(x[w].listener)}return v};l.getListenersAsObject=function e(v){var x=this.getListeners(v);var w;if(x instanceof Array){w={};w[v]=x}return w||x};l.addListener=function f(v,y){var x=this.getListenersAsObject(v);var z=typeof y==="object";var w;for(w in x){if(x.hasOwnProperty(w)&&h(x[w],y)===-1){x[w].push(z?y:{listener:y,once:false})}}return this};l.on=j("addListener");l.addOnceListener=function a(v,w){return this.addListener(v,{listener:w,once:true})};l.once=j("addOnceListener");l.defineEvent=function p(v){this.getListeners(v);return this};l.defineEvents=function q(v){for(var w=0;w<v.length;w+=1){this.defineEvent(v[w])}return this};l.removeListener=function b(v,z){var y=this.getListenersAsObject(v);var w;var x;for(x in y){if(y.hasOwnProperty(x)){w=h(y[x],z);if(w!==-1){y[x].splice(w,1)}}}return this};l.off=j("removeListener");l.addListeners=function m(v,w){return this.manipulateListeners(false,v,w)};l.removeListeners=function s(v,w){return this.manipulateListeners(true,v,w)};l.manipulateListeners=function g(w,x,z){var y;var A;var B=w?this.removeListener:this.addListener;var v=w?this.removeListeners:this.addListeners;if(typeof x==="object"&&!(x instanceof RegExp)){for(y in x){if(x.hasOwnProperty(y)&&(A=x[y])){if(typeof A==="function"){B.call(this,y,A)}else{v.call(this,y,A)}}}}else{y=z.length;while(y--){B.call(this,x,z[y])}}return this};l.removeEvent=function o(v){var y=typeof v;var x=this._getEvents();var w;if(y==="string"){delete x[v]}else{if(y==="object"){for(w in x){if(x.hasOwnProperty(w)&&v.test(w)){delete x[w]}}}else{delete this._events}}return this};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(v,x){var A=this.getListenersAsObject(v);var B;var z;var y;var w;for(y in A){if(A.hasOwnProperty(y)){z=A[y].length;while(z--){B=A[y][z];if(B.once===true){this.removeListener(v,B.listener)}w=B.listener.apply(this,x||[]);if(w===this._getOnceReturnValue()){this.removeListener(v,B.listener)}}}}return this};l.trigger=j("emitEvent");l.emit=function k(v){var w=Array.prototype.slice.call(arguments,1);return this.emitEvent(v,w)};l.setOnceReturnValue=function i(v){this._onceReturnValue=v;return this};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};l._getEvents=function d(){return this._events||(this._events={})};if(typeof define==="function"&&define.amd){define(function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{this.EventEmitter=c}}}.call(this));(function(c){var d=Array.prototype.slice;function b(){}function a(f){if(!f){return}function h(i){if(i.prototype.option){return}i.prototype.option=function(j){if(!f.isPlainObject(j)){return}this.options=f.extend(true,this.options,j)}}var e=typeof console==="undefined"?b:function(i){console.error(i)};function g(i,j){f.fn[i]=function(n){if(typeof n==="string"){var m=d.call(arguments,1);for(var o=0,l=this.length;o<l;o++){var q=this[o];var k=f.data(q,i);if(!k){e("cannot call methods on "+i+" prior to initialization; attempted to call '"+n+"'");continue}if(!f.isFunction(k[n])||n.charAt(0)==="_"){e("no such method '"+n+"' for "+i+" instance");continue}var p=k[n].apply(k,m);if(p!==undefined){return p}}return this}else{return this.each(function(){var r=f.data(this,i);if(r){r.option(n);r._init()}else{r=new j(this,n);f.data(this,i,r)}})}}}f.bridget=function(i,j){h(j);g(i,j)}}if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(c.jQuery)}})(window);if(!Element){var Element=function(){}}(function(b,i){var g=(function(){if(i.matchesSelector){return"matchesSelector"}var n=["webkit","moz","ms","o"];for(var l=0,k=n.length;l<k;l++){var m=n[l];var o=m+"MatchesSelector";if(i[o]){return o}}})();function e(l,k){return l[g](k)}function h(l){if(l.parentNode){return}var k=document.createDocumentFragment();k.appendChild(l)}function f(o,l){h(o);var m=$(o).parent().find(l);for(var n=0,k=m.length;n<k;n++){if(m[n]===o){return true}}return false}function d(l,k){h(l);return e(l,k)}var j;if(g){var a=document.createElement("div");var c=e(a,"div");j=c?e:d}else{j=f}if(typeof define==="function"&&define.amd){define(function(){return j})}else{window.matchesSelector=j}})(this,Element.prototype);(function(d){var c=document.defaultView;var b=c&&c.getComputedStyle?function(h){return c.getComputedStyle(h,null)}:function(h){return h.currentStyle};function g(i,h){for(var j in h){i[j]=h[j]}return i}function a(h){for(var i in h){return false}i=null;return true}function e(h){return h.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}function f(v,u,k){var t=k("transition");var q=k("transform");var r=t&&q;var o=!!k("perspective");var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[t];var m=["transform","transition","transitionDuration","transitionProperty"];var s=(function(){var x={};for(var y=0,w=m.length;y<w;y++){var A=m[y];var z=k(A);if(z&&z!==A){x[A]=z}}return x})();function j(w,x){if(!w){return}this.element=w;this.layout=x;this.position={x:0,y:0};this._create()}g(j.prototype,v.prototype);j.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};j.prototype.handleEvent=function(w){var x="on"+w.type;if(this[x]){this[x](w)}};j.prototype.getSize=function(){this.size=u(this.element)};j.prototype.css=function(y){var w=this.element.style;for(var z in y){var x=s[z]||z;w[x]=y[z]}};j.prototype.getPosition=function(){var B=b(this.element);var z=this.layout.options;var E=z.isOriginLeft;var D=z.isOriginTop;var w=parseInt(B[E?"left":"right"],10);var C=parseInt(B[D?"top":"bottom"],10);w=isNaN(w)?0:w;C=isNaN(C)?0:C;var A=this.layout.size;w-=E?A.paddingLeft:A.paddingRight;C-=D?A.paddingTop:A.paddingBottom;this.position.x=w;this.position.y=C};j.prototype.layoutPosition=function(){var x=this.layout.size;var w=this.layout.options;var y={};if(w.isOriginLeft){y.left=(this.position.x+x.paddingLeft)+"px";y.right=""}else{y.right=(this.position.x+x.paddingRight)+"px";y.left=""}if(w.isOriginTop){y.top=(this.position.y+x.paddingTop)+"px";y.bottom=""}else{y.bottom=(this.position.y+x.paddingBottom)+"px";y.top=""}this.css(y);this.emitEvent("layout",[this])};var i=o?function(w,z){return"translate3d("+w+"px, "+z+"px, 0)"}:function(w,z){return"translate("+w+"px, "+z+"px)"};j.prototype._transitionTo=function(H,G){this.getPosition();var z=this.position.x;var w=this.position.y;var F=parseInt(H,10);var E=parseInt(G,10);var D=F===this.position.x&&E===this.position.y;this.setPosition(H,G);if(D&&!this.isTransitioning){this.layoutPosition();return}var C=H-z;var B=G-w;var A={};var I=this.layout.options;C=I.isOriginLeft?C:-C;B=I.isOriginTop?B:-B;A.transform=i(C,B);this.transition({to:A,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};j.prototype.goTo=function(w,z){this.setPosition(w,z);this.layoutPosition()};j.prototype.moveTo=r?j.prototype._transitionTo:j.prototype.goTo;j.prototype.setPosition=function(w,z){this.position.x=parseInt(w,10);this.position.y=parseInt(z,10)};j.prototype._nonTransition=function(w){this.css(w.to);if(w.isCleaning){this._removeStyles(w.to)}for(var x in w.onTransitionEnd){w.onTransitionEnd[x].call(this)}};j.prototype._transition=function(w){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(w);return}var y=this._transition;for(var z in w.onTransitionEnd){y.onEnd[z]=w.onTransitionEnd[z]}for(z in w.to){y.ingProperties[z]=true;if(w.isCleaning){y.clean[z]=true}}if(w.from){this.css(w.from);var x=this.element.offsetHeight;x=null}this.enableTransition(w.to);this.css(w.to);this.isTransitioning=true};var l=q&&(e(q)+",opacity");j.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:l,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(h,this,false)};j.prototype.transition=j.prototype[t?"_transition":"_nonTransition"];j.prototype.onwebkitTransitionEnd=function(w){this.ontransitionend(w)};j.prototype.onotransitionend=function(w){this.ontransitionend(w)};var n={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};j.prototype.ontransitionend=function(z){if(z.target!==this.element){return}var y=this._transition;var w=n[z.propertyName]||z.propertyName;delete y.ingProperties[w];if(a(y.ingProperties)){this.disableTransition()}if(w in y.clean){this.element.style[z.propertyName]="";delete y.clean[w]}if(w in y.onEnd){var x=y.onEnd[w];x.call(this);delete y.onEnd[w]}this.emitEvent("transitionEnd",[this])};j.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(h,this,false);this.isTransitioning=false};j.prototype._removeStyles=function(x){var w={};for(var y in x){w[y]=""}this.css(w)};var p={transitionProperty:"",transitionDuration:""};j.prototype.removeTransitionStyles=function(){this.css(p)};j.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};j.prototype.remove=function(){if(!t||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var w=this;this.on("transitionEnd",function(){w.removeElem();return true});this.hide()};j.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var w=this.layout.options;this.transition({from:w.hiddenStyle,to:w.visibleStyle,isCleaning:true})};j.prototype.hide=function(){this.isHidden=true;this.css({display:""});var w=this.layout.options;this.transition({from:w.visibleStyle,to:w.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){this.css({display:"none"})}}})};j.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return j}if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],f)}else{d.Outlayer={};d.Outlayer.Item=f(d.EventEmitter,d.getSize,d.getStyleProperty)}})(window);
/*!
 * Outlayer v1.1.8
 * the brains and guts of a layout library
 */
(function(f){var i=f.document;var c=f.console;var o=f.jQuery;var n=function(){};function h(r,q){for(var s in q){r[s]=q[s]}return r}var p=Object.prototype.toString;function d(q){return p.call(q)==="[object Array]"}function a(t){var s=[];if(d(t)){s=t}else{if(t&&typeof t.length==="number"){for(var r=0,q=t.length;r<q;r++){s.push(t[r])}}else{s.push(t)}}return s}var g=(typeof HTMLElement==="object")?function e(q){return q instanceof HTMLElement}:function b(q){return q&&typeof q==="object"&&q.nodeType===1&&typeof q.nodeName==="string"};var j=Array.prototype.indexOf?function(q,r){return q.indexOf(r)}:function(s,t){for(var r=0,q=s.length;r<q;r++){if(s[r]===t){return r}}return -1};function l(s,r){var q=j(r,s);if(q!==-1){r.splice(q,1)}}function k(q){return q.replace(/(.)([A-Z])/g,function(s,r,t){return r+"-"+t}).toLowerCase()}function m(w,r,y,x,z,s){var u=0;var q={};function t(B,A){if(typeof B==="string"){B=i.querySelector(B)}if(!B||!g(B)){if(c){c.error("Bad "+this.settings.namespace+" element: "+B)}return}this.element=B;this.options=h({},this.options);this.option(A);var C=++u;this.element.outlayerGUID=C;q[C]=this;this._create();if(this.options.isInitLayout){this.layout()}}t.prototype.settings={namespace:"outlayer",item:s};t.prototype.options={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};h(t.prototype,y.prototype);t.prototype.option=function(A){h(this.options,A)};t.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);h(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};t.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};t.prototype._itemize=function(C){var F=this._filterFindItemElements(C);var D=this.settings.item;var B=[];for(var E=0,A=F.length;E<A;E++){var H=F[E];var G=new D(H,this);B.push(G)}return B};t.prototype._filterFindItemElements=function(A){A=a(A);var B=this.options.itemSelector;var F=[];for(var E=0,G=A.length;E<G;E++){var C=A[E];if(!g(C)){continue}if(B){if(z(C,B)){F.push(C)}var H=$(C).find(B);for(var D=0,I=H.length;D<I;D++){F.push(H[D])}}else{F.push(C)}}return F};t.prototype.getItemElements=function(){var B=[];for(var C=0,A=this.items.length;C<A;C++){B.push(this.items[C].element)}return B};t.prototype.layout=function(){this._resetLayout();this._manageStamps();var A=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,A);this._isLayoutInited=true};t.prototype._init=t.prototype.layout;t.prototype._resetLayout=function(){this.getSize()};t.prototype.getSize=function(){this.size=x(this.element)};t.prototype._getMeasurement=function(C,A){var B=this.options[C];var D;if(!B){this[C]=0}else{if(typeof B==="string"){D=this.element.querySelector(B)}else{if(g(B)){D=B}}this[C]=D?x(D)[A]:B}};t.prototype.layoutItems=function(A,B){A=this._getItemsForLayout(A);this._layoutItems(A,B);this._postLayout()};t.prototype._getItemsForLayout=function(B){var E=[];for(var C=0,A=B.length;C<A;C++){var D=B[C];if(!D.isIgnored){E.push(D)}}return E};t.prototype._layoutItems=function(D,H){if(!D||!D.length){this.emitEvent("layoutComplete",[this,D]);return}this._itemsOn(D,"layout",function G(){this.emitEvent("layoutComplete",[this,D])});var C=[];for(var E=0,B=D.length;E<B;E++){var F=D[E];var A=this._getItemLayoutPosition(F);A.item=F;A.isInstant=H;C.push(A)}this._processLayoutQueue(C)};t.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};t.prototype._processLayoutQueue=function(B){for(var C=0,A=B.length;C<A;C++){var D=B[C];this._positionItem(D.item,D.x,D.y,D.isInstant)}};t.prototype._positionItem=function(B,A,D,C){if(C){B.goTo(A,D)}else{B.moveTo(A,D)}};t.prototype._postLayout=function(){var A=this._getContainerSize();if(A){this._setContainerMeasure(A.width,true);this._setContainerMeasure(A.height,false)}};t.prototype._getContainerSize=n;t.prototype._setContainerMeasure=function(A,B){if(A===undefined){return}var C=this.size;if(C.isBorderBox){A+=B?C.paddingLeft+C.paddingRight+C.borderLeftWidth+C.borderRightWidth:C.paddingBottom+C.paddingTop+C.borderTopWidth+C.borderBottomWidth}A=Math.max(A,0);this.element.style[B?"width":"height"]=A+"px"};t.prototype._itemsOn=function(H,D,I){var A=0;var G=H.length;var F=this;function C(){A++;if(A===G){I.call(F)}return true}for(var B=0,E=H.length;B<E;B++){var J=H[B];J.on(D,C)}};t.prototype.ignore=function(B){var A=this.getItem(B);if(A){A.isIgnored=true}};t.prototype.unignore=function(B){var A=this.getItem(B);if(A){delete A.isIgnored}};t.prototype.stamp=function(B){B=this._find(B);if(!B){return}this.stamps=this.stamps.concat(B);for(var C=0,A=B.length;C<A;C++){var D=B[C];this.ignore(D)}};t.prototype.unstamp=function(B){B=this._find(B);if(!B){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];l(D,this.stamps);this.unignore(D)}};t.prototype._find=function(A){if(!A){return}if(typeof A==="string"){A=this.element.querySelectorAll(A)}A=a(A);return A};t.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var C=0,A=this.stamps.length;C<A;C++){var B=this.stamps[C];this._manageStamp(B)}};t.prototype._getBoundingRect=function(){var A=this.element.getBoundingClientRect();var B=this.size;this._boundingRect={left:A.left+B.paddingLeft+B.borderLeftWidth,top:A.top+B.paddingTop+B.borderTopWidth,right:A.right-(B.paddingRight+B.borderRightWidth),bottom:A.bottom-(B.paddingBottom+B.borderBottomWidth)}};t.prototype._manageStamp=n;t.prototype._getElementOffset=function(D){var A=D.getBoundingClientRect();var C=this._boundingRect;var B=x(D);var E={left:A.left-C.left-B.marginLeft,top:A.top-C.top-B.marginTop,right:C.right-A.right-B.marginRight,bottom:C.bottom-A.bottom-B.marginBottom};return E};t.prototype.handleEvent=function(A){var B="on"+A.type;if(this[B]){this[B](A)}};t.prototype.bindResize=function(){if(this.isResizeBound){return}w.bind(f,"resize",this);this.isResizeBound=true};t.prototype.unbindResize=function(){w.unbind(f,"resize",this);this.isResizeBound=false};t.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var B=this;function A(){B.resize();delete B.resizeTimeout}this.resizeTimeout=setTimeout(A,100)};t.prototype.resize=function(){var B=x(this.element);var A=this.size&&B;if(A&&B.innerWidth===this.size.innerWidth){return}this.layout()};t.prototype.addItems=function(B){var A=this._itemize(B);if(A.length){this.items=this.items.concat(A)}return A};t.prototype.appended=function(B){var A=this.addItems(B);if(!A.length){return}this.layoutItems(A,true);this.reveal(A)};t.prototype.prepended=function(B){var A=this._itemize(B);if(!A.length){return}var C=this.items.slice(0);this.items=A.concat(C);this._resetLayout();this._manageStamps();this.layoutItems(A,true);this.reveal(A);this.layoutItems(C)};t.prototype.reveal=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.reveal()}};t.prototype.hide=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.hide()}};t.prototype.getItem=function(D){for(var B=0,A=this.items.length;B<A;B++){var C=this.items[B];if(C.element===D){return C}}};t.prototype.getItems=function(C){if(!C||!C.length){return}var B=[];for(var D=0,A=C.length;D<A;D++){var F=C[D];var E=this.getItem(F);if(E){B.push(E)}}return B};t.prototype.remove=function(B){B=a(B);var D=this.getItems(B);if(!D||!D.length){return}this._itemsOn(D,"remove",function(){this.emitEvent("removeComplete",[this,D])});for(var C=0,A=D.length;C<A;C++){var E=D[C];E.remove();l(E,this.items)}};t.prototype.destroy=function(){var C=this.element.style;C.height="";C.position="";C.width="";for(var B=0,A=this.items.length;B<A;B++){var D=this.items[B];D.destroy()}this.unbindResize();try{delete this.element.outlayerGUID}catch(E){this.element.outlayerGUID=undefined}if(o){o.removeData(this.element,this.settings.namespace)}};t.data=function(A){var B=A&&A.outlayerGUID;return B&&q[B]};function v(B,A){B.prototype[A]=h({},t.prototype[A])}t.create=function(D,B){function C(){t.apply(this,arguments)}h(C.prototype,t.prototype);v(C,"options");v(C,"settings");h(C.prototype.options,B);C.prototype.settings.namespace=D;C.data=t.data;C.Item=function A(){s.apply(this,arguments)};C.Item.prototype=new s();C.prototype.settings.item=C.Item;r(function(){var K=k(D);var E=$(".js-"+K);var L="data-"+K+"-options";for(var G=0,H=E.length;G<H;G++){var F=E[G];var I=F.getAttribute(L);var N;try{N=I&&JSON.parse(I)}catch(J){if(c){c.error("Error parsing "+L+" on "+F.nodeName.toLowerCase()+(F.id?"#"+F.id:"")+": "+J)}continue}var M=new C(F,N);if(o){o.data(F,D,M)}}});if(o&&o.bridget){o.bridget(D,C)}return C};t.Item=s;return t}if(typeof define==="function"&&define.amd){define(["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],m)}else{f.Outlayer=m(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)}})(window);
/*!
 * Masonry v3.1.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(c){var b=Array.prototype.indexOf?function(d,e){return d.indexOf(e)}:function(e,h){for(var f=0,d=e.length;f<d;f++){var g=e[f];if(g===h){return f}}return -1};function a(e,f){var d=e.create("masonry");d.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var g=this.cols;this.colYs=[];while(g--){this.colYs.push(0)}this.maxY=0};d.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var h=this.items[0];var g=h&&h.element;this.columnWidth=g&&f(g).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};d.prototype.getContainerWidth=function(){var g=this.options.isFitWidth?this.element.parentNode:this.element;var h=f(g);this.containerWidth=h&&h.innerWidth};d.prototype._getItemLayoutPosition=function(p){p.getSize();var m=Math.ceil(p.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);var g=this._getColGroup(m);var h=Math.min.apply(Math,g);var n=b(g,h);var l={x:this.columnWidth*n,y:h};var o=h+p.size.outerHeight;var j=this.cols+1-g.length;for(var k=0;k<j;k++){this.colYs[n+k]=o}return l};d.prototype._getColGroup=function(j){if(j<2){return this.colYs}var k=[];var l=this.cols+1-j;for(var g=0;g<l;g++){var h=this.colYs.slice(g,g+j);k[g]=Math.max.apply(Math,h)}return k};d.prototype._manageStamp=function(g){var n=f(g);var l=this._getElementOffset(g);var k=this.options.isOriginLeft?l.left:l.right;var h=k+n.outerWidth;var p=Math.floor(k/this.columnWidth);p=Math.max(0,p);var j=Math.floor(h/this.columnWidth);j=Math.min(this.cols-1,j);var o=(this.options.isOriginTop?l.top:l.bottom)+n.outerHeight;for(var m=p;m<=j;m++){this.colYs[m]=Math.max(o,this.colYs[m])}};d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var g={height:this.maxY};if(this.options.isFitWidth){g.width=this._getContainerFitWidth()}return g};d.prototype._getContainerFitWidth=function(){var h=0;var g=this.cols;while(--g){if(this.colYs[g]!==0){break}h++}return(this.cols-h)*this.columnWidth-this.gutter};d.prototype.resize=function(){var g=this.containerWidth;this.getContainerWidth();if(g===this.containerWidth){return}this.layout()};return d}if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size"],a)}else{c.Masonry=a(c.Outlayer,c.getSize)}})(window);